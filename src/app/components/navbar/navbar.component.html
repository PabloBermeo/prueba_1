
<nav class="navbar navbar-expand-lg navbar-transparent  navbar-absolute bg-primary fixed-top">
    <div class="container-fluid">
        <div class="navbar-wrapper">
            <div class="navbar-toggle">
                <button type="button" class="navbar-toggler" (click)="sidebarToggle()">
                    <span class="navbar-toggler-bar bar1"></span>
                    <span class="navbar-toggler-bar bar2"></span>
                    <span class="navbar-toggler-bar bar3"></span>
                </button>
            </div>
            <a class="navbar-brand" href="#pablo">{{getTitle()}}</a>
        </div>
        <button class="navbar-toggler" type="button" (click)="collapse()"
          [attr.aria-expanded]="!isCollapsed" aria-controls="collapseExample">
          <span class="navbar-toggler-bar navbar-kebab"></span>
          <span class="navbar-toggler-bar navbar-kebab"></span>
          <span class="navbar-toggler-bar navbar-kebab"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end" id="collapseExample" [ngbCollapse]="isCollapsed">
          <ul class="navbar-nav" style="align-items: center;">
            <li class="nav-item" style="padding-right: 10px;" >
              <div class="nav-dropdown">
                <select class="form-select" id="inputGroupSelect04" style="width: 100%;height: 35px;"
                  [(ngModel)]="deviceSelected" (change)="changeDev()" name="DeviceSeleccionado">
                  <option [disabled]="true" selected value="-1">Device...</option>
                  <option *ngFor="let device of devices;let i=index;" value="{{i}}">{{device.name}}</option>
                </select>
              </div>
            </li>
            <li class="nav-item" ngbDropdown>
             
              <div class="nav-dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button"
                  id="notificationsDropdown"  data-bs-toggle="dropdown"
                    aria-haspopup="true"         aria-expanded="false" ngbDropdownToggle>
                    <i class="now-ui-icons media-2_sound-wave"></i>
                    <span class="badge text-bg-danger" *ngIf="notifications.length>0">{{notifications.length}}</span>
                </button>
                <div class="dropdown-menu dropdown-menu-right" ngbDropdownMenu >
                  <a class="dropdown-item" *ngFor="let notification of notifications;let i=index;"
                  (click)="notificationReaded(i,notification._id)" aria-labelledby="notificationsDropdown">
                      <div>
                        <div class="small text-gray-500" style="color:orangered;">
                          <b>{{unixToDate(notification.time)}}</b>
                        </div>
                        <div style="margin-left: 50px;">
                          <b>Device:</b> {{notification.deviceName}}<br>
                          <b>Variable:</b> {{notification.variableFullName}}<br>
                          <b>Condition:</b> {{notification.condition}}<br>
                          <b>Limit:</b> {{notification.value}}<br>
                          <b>Value:</b> {{notification.payload.value}}<br>

                        </div>
                      </div>
                    
                  </a>
                </div>

              </div> 
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#pablo">
                <i class="now-ui-icons users_single-02"></i>
                <p>
                  <span class="d-lg-none d-md-block">Account</span>
                </p>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" (click)="logOut()">LogOut</a>
            </li>
          </ul>
        </div>
    </div>
</nav>
